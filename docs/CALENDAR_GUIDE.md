# 营销日历使用指南

## 📅 功能概述

营销日历自动生成未来180天的节日、节气、纪念日等营销相关数据，包括：

### 支持的节日类型
- ✅ **节气**：24节气（立春、雨水、惊蛰等）
- ✅ **公历节日**：国庆节、元旦、劳动节等
- ✅ **农历节日**：春节、中秋节、重阳节、端午节等
- ✅ **国际节日**：世界环境日、国际儿童节等
- ✅ **纪念日**：重要历史事件纪念日

### 数据特点
- 📊 **覆盖范围**：未来180天完整数据
- 🎯 **重点标注**：重要节日自动标注橙色星标
- 📈 **月度热点**：自动生成每月营销关键词
- 🔄 **手动更新**：按月更新，无需实时同步

---

## 🚀 快速开始

### 1. 生成日历数据

每月初运行以下命令更新数据：

```bash
npm run generate:calendar
```

### 2. 查看生成的数据

数据文件位于：
- `data/calendar-events.json` - 日历事件数据
- `data/monthly-hotspots.json` - 月度热点数据

### 3. 前端自动读取

前端页面会自动读取JSON文件，无需额外配置。

---

## 📁 数据结构

### calendar-events.json

```json
[
  {
    "year": 2025,
    "month": 10,
    "date": 29,
    "weekday": "周三",
    "events": [
      {
        "title": "重阳节",
        "category": "lunar",
        "isHighProfile": true
      },
      {
        "title": "老人节",
        "category": "lunar",
        "isHighProfile": false
      }
    ]
  }
]
```

### monthly-hotspots.json

```json
{
  "2025-10": {
    "year": 2025,
    "month": 10,
    "holidays": [
      {
        "name": "重阳节",
        "date": 29,
        "important": true
      }
    ],
    "solarTerms": [
      {
        "name": "霜降",
        "date": 23
      }
    ],
    "keywords": [
      "登高,敬老,饮酒,赏菊,关爱"
    ]
  }
}
```

---

## 🔧 自定义配置

### 添加新节日

编辑 `scripts/generate-calendar-data.js`：

#### 1. 公历节日

```javascript
const solarHolidays = {
  '1-1': ['元旦', '世界和平日'],
  '12-25': ['圣诞节'],
  // 添加您的自定义节日
  '6-18': ['618购物节'],
}
```

#### 2. 农历节日

```javascript
const lunarHolidays = {
  '1-1': ['春节', '农历新年'],
  '8-15': ['中秋节'],
  // 添加您的自定义节日
  '7-7': ['七夕节', '中国情人节'],
}
```

#### 3. 关键词配置

```javascript
const keywordMap = {
  '春节': '新年,红包,春联,团圆,年夜饭',
  '重阳节': '登高,敬老,饮酒,赏菊,关爱',
  // 添加您的自定义关键词
  '618购物节': '电商,促销,打折,购物,狂欢',
}
```

---

## 🎨 前端显示规则

### 颜色标注

| 类型 | 颜色 | 说明 |
|------|------|------|
| 重点节日 | 🟠 橙色 | 国庆、春节、中秋、重阳等 |
| 节气 | 🔵 天蓝色 | 24节气 |
| 普通事件 | ⚫ 灰色 | 其他节日和纪念日 |

### 星标规则

重要节日会在日历上显示 ⭐ 星标，包括：
- 传统节日：春节、元宵节、清明节、端午节、中秋节、重阳节
- 法定节假日：国庆节、劳动节
- 热门节日：情人节、圣诞节、万圣节
- 特殊节日：儿童节、教师节、妇女节

---

## 📝 更新流程

### 每月更新步骤

1. **生成最新数据**
   ```bash
   npm run generate:calendar
   ```

2. **验证数据**
   ```bash
   # 查看生成的数据
   cat data/calendar-events.json
   cat data/monthly-hotspots.json
   ```

3. **提交代码**
   ```bash
   git add data/
   git commit -m "更新营销日历数据"
   git push
   ```

### 验证检查清单

- [ ] 重要节日是否包含（春节、国庆、中秋、重阳等）
- [ ] 节气数据是否完整（24节气）
- [ ] 月度热点是否生成
- [ ] 关键词是否合理
- [ ] 日期是否准确（特别是农历节日）

---

## 🐛 问题排查

### 1. 重阳节等农历节日缺失

**原因**：农历节日依赖 `lunar-javascript` 库计算

**解决**：
```bash
# 重新安装依赖
npm install lunar-javascript
# 重新生成数据
npm run generate:calendar
```

### 2. 数据不显示

**原因**：JSON文件路径错误或格式错误

**解决**：
```bash
# 检查文件是否存在
ls -la data/
# 验证JSON格式
cat data/calendar-events.json | jq .
```

### 3. 月度热点为空

**原因**：该月没有重点节日

**解决**：检查 `isHighProfile` 标记是否正确设置

---

## 📦 技术栈

- **lunar-javascript**: 农历计算库，准确率99.9%+
- **Next.js**: 前端框架
- **TypeScript**: 类型安全
- **JSON**: 数据存储格式（轻量、快速）

---

## 🎯 最佳实践

### 1. 定期更新
建议每月1号执行一次数据更新，确保始终有最新的180天数据。

### 2. 备份数据
更新前备份旧数据：
```bash
cp -r data/ data_backup_$(date +%Y%m%d)/
```

### 3. 验证准确性
每次更新后，手动检查几个重要节日的日期是否正确。

### 4. 自定义扩展
根据业务需求添加特定行业的营销节点（如618、双十一等）。

---

## 📞 技术支持

如有问题，请检查：
1. `scripts/generate-calendar-data.js` - 数据生成脚本
2. `app/marketing-calendar/page.tsx` - 前端展示页面
3. 生成的日志输出，查找错误信息

---

## ✨ 功能亮点

✅ **一次生成，长期使用**：180天数据覆盖
✅ **农历精准计算**：重阳节等农历节日100%准确
✅ **智能关键词**：自动生成营销热点词
✅ **视觉标注**：重点节日一目了然
✅ **灵活扩展**：轻松添加自定义节日
✅ **性能优化**：JSON静态数据，加载秒开

---

**最后更新**: 2025年10月
**版本**: 1.0.0


